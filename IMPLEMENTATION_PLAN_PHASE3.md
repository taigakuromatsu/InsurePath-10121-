# Phase3 実装計画

**作成日**: 2025年11月28日  
**目標完了日**: 2025年12月10日  
**残り日数**: 約12日間（タイトなスケジュール）

---

## 📊 Phase2までの実装完了状況

### 完了したフェーズ
- ✅ **Phase1-2**: 従業員台帳機能の資格情報・就業状態管理
- ✅ **Phase1-3**: 社会保険料自動計算機能
- ✅ **Phase1-4**: 月次保険料一覧・会社負担集計機能（基本実装）
- ✅ **Phase1-5**: 標準報酬月額・等級・保険プランマスタ管理機能
- ✅ **Phase1-6**: 賞与管理・賞与保険料計算機能
- ✅ **Phase1-7**: マイページ機能
- ✅ **Phase1-8**: 従業員とユーザーアカウントの自動紐づけ機能
- ✅ **Phase1-9**: 月次保険料一覧機能の拡張（過去月分閲覧、絞り込み、合計行）
- ✅ **Phase1-10**: 負担構成ダッシュボード機能（基本実装）
- ✅ **Phase1-11**: 保険料シミュレーション機能
- ✅ **Phase1-12**: 負担構成ダッシュボード機能の拡張（グラフ表示）
- ✅ **Phase2-1**: セキュリティ・アクセス制御の強化
- ✅ **Phase2-2**: ロール割り当てとユーザー管理の改善
- ✅ **Phase2-3**: 被扶養者管理機能の実装
- ✅ **Phase2-4**: 扶養家族管理の導線改善
- ✅ **Phase2-5**: 標準報酬決定・改定履歴管理機能の実装
- ✅ **Phase2-6**: 標準報酬履歴の自動追加（従業員フォーム連動）
- ✅ **Phase2-7**: CSVエクスポート機能の実装
- ✅ **Phase2-8**: CSVインポート機能の実装

---

## 🎯 Phase3の実装方針

Phase3では、**12月10日までの完成を目指し、残り17機能すべてを実装**します（Phase3-1とPhase3-2は完了済み）。

### Phase3の目標
1. **基本機能の完成**: 部分実装されている機能を完成させる
2. **実務機能の実装**: 手続き管理、納付管理、扶養管理の強化
3. **拡張機能の実装**: e-Gov連携、PDF出力、セルフ入力など

### 実装期間
- **開始日**: 2025年11月28日
- **目標完了日**: 2025年12月10日
- **実装期間**: 約12日間（非常にタイトなスケジュール）

### ⚠️ 注意事項
- **期日が非常にタイト**: 残り12日間で17機能を実装する必要があるため、並行作業と効率的な実装が必須
- **テスト時間の確保**: 各フェーズ完了後、可能な限りテストを実施

---

## 📋 Phase3の実装フェーズ（残り17機能）

### Phase3-1: 従業員情報の最終更新者・更新日時表示機能の完成 ✅ 実装完了

**優先度**: 🔴 最高（部分実装の完成）  
**依存関係**: なし  
**目標完了日**: 2025年11月28日（当日）  
**完了日**: 2025年11月28日

**目的**: 既にデータ保存と詳細表示は実装済みだが、一覧画面での表示を追加して機能を完成させる

**実装内容**:
1. **従業員一覧画面への表示追加**
   - 従業員一覧テーブルに「最終更新者」「最終更新日時」列を追加
   - 更新者名の表示（ユーザーIDからユーザー名への変換）
   - 日時のフォーマット表示（YYYY-MM-DD HH:mm形式）

**実装ファイル**:
- `src/app/services/users.service.ts`（新規作成）
- `src/app/pages/employees/employees.page.ts`（一覧テーブルに列追加）
- `src/app/pages/employees/employee-form-dialog.component.ts`（`updatedByUserId`設定追加）

---

### Phase3-2: 社会保険用語・ルールヘルプ機能 ✅ 実装完了

**優先度**: 🟡 高（ユーザビリティ向上）  
**依存関係**: なし  
**目標完了日**: 2025年11月28日（当日）  
**完了日**: 2025年11月28日

**目的**: 人事担当者や新任担当者が制度を確認しながら操作できるようにし、誤操作や制度理解のミスを防ぐ

**実装内容**:
1. **ヘルプコンテンツの定義**
   - 標準報酬月額・等級の説明
   - 賞与の範囲の説明
   - 短時間労働者の適用条件の説明

2. **ヘルプアイコン・モーダルの実装**
   - 各画面にヘルプアイコン（`help_outline`）を配置
   - クリックでヘルプモーダルを表示

**実装ファイル**:
- `src/app/components/help-dialog.component.ts`（新規作成）
- `src/app/utils/help-content.ts`（ヘルプコンテンツ定義、新規作成）
- `src/app/pages/employees/employees.page.ts`（ヘルプアイコン追加）
- `src/app/pages/employees/employee-form-dialog.component.ts`（ヘルプアイコン追加）
- `src/app/pages/premiums/monthly/monthly-premiums.page.ts`（ヘルプアイコン追加）
- `src/app/pages/premiums/bonus/bonus-premiums.page.ts`（ヘルプアイコン追加）

---

### Phase3-3: 従業員情報の変更申請・承認（簡易ワークフロー）機能 ✅ 実装完了

**優先度**: 🔴 最高（実務上重要な機能）  
**依存関係**: Phase2-1（セキュリティ強化後が望ましい）  
**目標完了日**: 2025年11月30日  
**完了日**: 2025年11月30日

**目的**: 一般従業員が自分のプロフィール情報を申請し、管理者・担当者が承認する簡易ワークフロー機能を実装する

**実装完了内容**:
1. ✅ **変更申請の型定義**
   - `ChangeRequest`型の定義
   - `ChangeRequestStatus`型の定義
   - Firestoreコレクション構造の設計

2. ✅ **変更申請サービス**
   - `ChangeRequestsService`の実装
   - 申請の作成（`create()`）
   - 申請の一覧取得（`list()`）- admin/hr用、リアルタイム購読
   - ユーザー単位の申請一覧取得（`listForUser()`）- employee用、リアルタイム購読
   - 申請の承認（`approve()`）
   - 申請の却下（`reject()`）

3. ✅ **申請登録画面**
   - 従業員本人がアクセスできる申請フォーム（`change-request-form-dialog.component.ts`）
   - 申請可能な項目：住所、電話番号、メールアドレス
   - 現在値と申請値の入力フォーム
   - submit 2重実行バグ修正済み

4. ✅ **申請一覧画面（管理者・担当者向け）**
   - 事業所ごとの申請一覧表示（`requests.page.ts`）
   - ステータス別フィルタ
   - 承認・却下ボタン
   - admin/hr専用（employeeロールはアクセス不可）

5. ✅ **承認・却下処理**
   - 承認時：従業員台帳への自動反映
   - 却下時：却下理由の入力と保存（`reject-reason-dialog.component.ts`）
   - submit 2重実行バグ修正済み

6. ✅ **マイページへの申請履歴セクション追加**
   - employeeロールが自分の申請履歴と却下理由を確認できる
   - 「変更申請を行う」ボタンから申請登録ダイアログを開ける

7. ✅ **Firestoreセキュリティルール**
   - 従業員本人は自分の申請のみ作成・閲覧可能
   - 管理者・担当者は全申請を閲覧・承認・却下可能
   - 却下理由の空文字禁止
   - 作成時の`decidedAt`、`decidedByUserId`、`rejectReason`未設定チェック

**実装ファイル**:
- `src/app/types.ts`（`ChangeRequest`型、`ChangeRequestStatus`型）
- `src/app/services/change-requests.service.ts`（新規作成）
- `src/app/pages/requests/change-request-form-dialog.component.ts`（新規作成）
- `src/app/pages/requests/reject-reason-dialog.component.ts`（新規作成）
- `src/app/pages/requests/requests.page.ts`（実装完了）
- `src/app/pages/me/my-page.ts`（申請履歴セクション追加）
- `src/app/services/employees.service.ts`（単一取得メソッド`get()`追加）
- `firestore.rules`（`changeRequests`コレクションのルール追加）

---

### Phase3-4: 社会保険手続き履歴・期限管理機能 📋 未実装（優先度：高）

**優先度**: 🟡 高（実務上重要な機能）  
**依存関係**: Phase2-3、Phase2-5、Phase1-6  
**目標完了日**: 2025年12月1日

**目的**: 従業員および被扶養者ごとに、健康保険・厚生年金に関する主な社会保険手続きの履歴を登録・閲覧し、提出期限を管理することで、届出漏れ・提出遅れを防止する

**実装予定内容**:
1. **手続き履歴の型定義**
   - `SocialInsuranceProcedure`型の定義
   - Firestoreコレクション構造の設計

2. **手続き登録・閲覧画面**
   - 手続き登録フォーム
   - 手続き一覧表示

3. **期限管理機能**
   - 「提出期限が近い手続き」一覧表示
   - 「提出期限を過ぎて未完了の手続き」一覧表示

**実装予定ファイル**:
- `src/app/types.ts`（`SocialInsuranceProcedure`型追加）
- `src/app/services/procedures.service.ts`（新規作成）
- `src/app/pages/procedures/procedures.page.ts`（新規作成）

---

### Phase3-5: 被扶養者状況確認・年次見直し支援機能 📋 未実装（優先度：中）

**優先度**: 🟡 中（実務上必要な機能）  
**依存関係**: Phase2-3  
**目標完了日**: 2025年12月1日

**目的**: 被扶養者の年次見直しや「被扶養者状況リスト」への回答作業を支援する

**実装予定内容**:
1. **扶養状況確認の型定義**
   - `DependentReview`型の定義
   - Firestoreコレクション構造の設計

2. **基準年月日時点での抽出機能**
   - 特定の基準年月日時点で扶養に入っている被扶養者の一覧を抽出・表示

**実装予定ファイル**:
- `src/app/types.ts`（`DependentReview`型追加）
- `src/app/services/dependent-reviews.service.ts`（新規作成）
- `src/app/pages/dependent-reviews/dependent-reviews.page.ts`（新規作成）

---

### Phase3-6: 社会保険料納付状況管理機能 📋 未実装（優先度：高）

**優先度**: 🟡 高（実務上重要な機能）  
**依存関係**: Phase1-4、Phase1-6  
**目標完了日**: 2025年12月2日

**目的**: 事業所ごと・対象年月ごとに、健康保険・介護保険・厚生年金それぞれの社会保険料について、納付予定額・実際の納付額・納付日・納付ステータスを記録し、納付漏れや金額確認漏れを防止する

**実装予定内容**:
1. **納付状況の型定義**
   - `PaymentStatus`型の定義
   - Firestoreコレクション構造の設計

2. **納付状況の登録・編集機能**
   - 納付完了後に、納付日および最終的な納付額を登録
   - 納付ステータスの更新

3. **ダッシュボードへの表示**
   - 「今月納付予定の社会保険料」の表示

**実装予定ファイル**:
- `src/app/types.ts`（`PaymentStatus`型追加）
- `src/app/services/payments.service.ts`（新規作成）
- `src/app/pages/payments/payments.page.ts`（新規作成）

---

### Phase3-7: e-Gov電子申請連携機能 📋 未実装（優先度：中）

**優先度**: 🟡 中（拡張機能）  
**依存関係**: Phase3-4  
**目標完了日**: 2025年12月2日

**目的**: InsurePath上で作成した社会保険手続きをもとに、e-Gov電子申請で利用する申請データを自動生成できる

**実装予定内容**:
1. **電子申請用データの自動生成**
   - 従業員・被扶養者・標準報酬決定履歴・賞与情報などを集約
   - 電子申請用ファイル（CSV／固定長テキスト等）として出力

2. **申請ステータス管理**
   - 申請単位で「作成中／申請準備完了／e-Gov送信済／差戻し」等のステータスを管理

**実装予定ファイル**:
- `src/app/utils/egov-export.service.ts`（新規作成）
- `src/app/pages/procedures/procedures.page.ts`（e-Gov出力ボタン追加）

---

### Phase3-8: 公的帳票（届出書）自動作成・PDF出力機能 📋 未実装（優先度：中）

**優先度**: 🟡 中（拡張機能）  
**依存関係**: Phase3-4  
**目標完了日**: 2025年12月3日

**目的**: 資格取得届・資格喪失届・算定基礎届など、代表的な社会保険届出書について、従業員データから必要項目を自動反映した帳票を生成できる

**実装予定内容**:
1. **帳票テンプレートの定義**
   - 代表的な届出書のテンプレート定義

2. **PDF出力機能**
   - 帳票の自動生成
   - PDFとして出力・保存・印刷

**実装予定ファイル**:
- `src/app/utils/document-generator.service.ts`（新規作成、PDF生成ライブラリ使用）
- `src/app/pages/procedures/procedures.page.ts`（PDF出力ボタン追加）

---

### Phase3-9: 従業員セルフ入力・手続き申請フロー機能 📋 未実装（優先度：中）

**優先度**: 🟡 中（拡張機能）  
**依存関係**: Phase3-3  
**目標完了日**: 2025年12月3日

**目的**: 入社時や扶養異動時に、従業員本人がWeb画面から自分および家族の情報を入力・更新できるセルフ入力フォームを提供する

**実装予定内容**:
1. **セルフ入力フォーム**
   - 入社時・扶養異動時のセルフ入力フォーム
   - 手続き申請として一時保存

2. **申請内容の承認・却下機能**
   - 管理者・担当者が内容を確認・承認

**実装予定ファイル**:
- `src/app/pages/self-input/self-input.page.ts`（新規作成）
- `src/app/pages/self-input/self-input-form-dialog.component.ts`（新規作成）

---

### Phase3-10: 社会保険手続き用添付書類管理機能 📋 未実装（優先度：低）

**優先度**: 🟢 低（拡張機能）  
**依存関係**: Phase3-4  
**目標完了日**: 2025年12月4日

**目的**: 被扶養者認定用書類、本人確認書類など、社会保険手続きに必要な添付書類を、手続きレコードに紐づけてアップロード・管理できる

**実装予定内容**:
1. **ファイルアップロード機能**
   - Firebase Storageへのアップロード
   - 添付書類のメタ情報管理

2. **閲覧権限制御**
   - ロール別の閲覧権限制御

**実装予定ファイル**:
- `src/app/services/attachments.service.ts`（新規作成、Firebase Storage使用）
- `src/app/pages/procedures/procedures.page.ts`（添付書類アップロード機能追加）

---

### Phase3-11: 保険料率・等級表クラウドマスタ・自動更新機能 📋 未実装（優先度：低）

**優先度**: 🟢 低（拡張機能）  
**依存関係**: Phase1-5  
**目標完了日**: 2025年12月4日

**目的**: 協会けんぽおよび厚生年金などの全国共通マスタについて、システム全体で共有する「クラウドマスタ」として保険料率・等級表を一元管理できるようにする

**実装予定内容**:
1. **クラウドマスタの実装**
   - システム全体で共有するマスタコレクション
   - 事業所への自動適用機能

**実装予定ファイル**:
- `src/app/services/cloud-master.service.ts`（新規作成）
- `src/app/pages/masters/masters.page.ts`（クラウドマスタ表示追加）

---

### Phase3-12: マイナンバー管理機能 📋 未実装（優先度：低）

**優先度**: 🟢 低（拡張機能）  
**依存関係**: Phase2-1  
**目標完了日**: 2025年12月5日

**目的**: 従業員および被扶養者のマイナンバー（個人番号）を、安全性の高い方式で管理

**実装予定内容**:
1. **マイナンバーの暗号化保存**
   - 暗号化したうえでサーバ側に保存
   - 復号・参照は管理者のみに限定

2. **マスキング表示**
   - 画面表示時には下数桁のみのマスキング表示

**実装予定ファイル**:
- `src/app/types.ts`（マイナンバー関連型追加）
- `src/app/services/mynumber.service.ts`（新規作成、暗号化処理）

---

### Phase3-13: 多言語対応機能 📋 未実装（優先度：低）

**優先度**: 🟢 低（拡張機能）  
**依存関係**: なし  
**目標完了日**: 2025年12月7日（時間に余裕があれば）または12月8日

**目的**: 日本語に加え、英語UIへの切り替えに対応し、日本語が母語でない従業員・担当者も利用しやすい画面を提供する

**実装予定内容**:
1. **英語UIの実装**
   - Angular i18nまたはngx-translateを使用
   - 表示言語の設定機能

**実装予定ファイル**:
- `src/app/i18n/`（多言語リソースファイル）
- `src/app/services/i18n.service.ts`（新規作成）

---

### Phase3-14: 社会保険情報の異常値チェック・ギャップ検知機能 📋 未実装（優先度：中）

**優先度**: 🟡 中（データ品質向上）  
**依存関係**: なし  
**目標完了日**: 2025年12月5日

**目的**: 従業員台帳・資格情報・標準報酬履歴・保険料計算結果などのデータに対して、代表的な「おかしな状態」を自動チェックする

**実装予定内容**:
1. **異常値チェックルールの定義**
   - 代表的なチェックルールの定義

2. **自動チェック機能**
   - 異常値の自動検知
   - 異常値一覧表示

**実装予定ファイル**:
- `src/app/services/data-quality.service.ts`（新規作成）
- `src/app/pages/data-quality/data-quality.page.ts`（新規作成）

---

### Phase3-15: 手続きタスクの期限別ビュー・簡易アラート機能 📋 未実装（優先度：中）

**優先度**: 🟡 中（実務上必要な機能）  
**依存関係**: Phase3-4  
**目標完了日**: 2025年12月6日

**目的**: 社会保険手続き履歴・期限管理機能と連携し、「いつまでに何の手続きを行う必要があるか」をタスク一覧として見える化する

**実装予定内容**:
1. **期限別ビューの実装**
   - 「今週提出期限の手続き」一覧
   - 「提出期限を過ぎて未完了の手続き」一覧

2. **ダッシュボードへの集計表示**
   - 「今週提出期限の手続き：◯件」の表示

**実装予定ファイル**:
- `src/app/pages/procedures/procedures.page.ts`（期限別ビュー追加）
- `src/app/pages/dashboard/dashboard.page.ts`（手続きタスク集計追加）

---

### Phase3-16: 外部給与システム連携（CSV）機能の完成 📋 未実装（優先度：低）

**優先度**: 🟢 低（拡張機能）  
**依存関係**: Phase2-7、Phase2-8  
**目標完了日**: 2025年12月6日

**目的**: 外部給与システムとの連携仕様を最適化し、代表的なクラウド人事・給与システムが出力する従業員情報CSVの項目構成に対応する

**実装予定内容**:
1. **連携仕様の最適化**
   - インポート用テンプレートの拡張
   - 列名や形式のマッピング機能

**実装予定ファイル**:
- `src/app/utils/csv-import.service.ts`（連携仕様最適化）

---

### Phase3-17: 口座情報・給与情報管理機能 📋 未実装（優先度：低）

**優先度**: 🟢 低（拡張機能）  
**依存関係**: Phase2-1  
**目標完了日**: 2025年12月7日

**目的**: 従業員ごとに、給与振込口座情報を台帳として登録・管理できる

**実装予定内容**:
1. **口座情報の型定義**
   - `BankAccount`型の定義
   - Firestoreコレクション構造の設計

2. **口座情報の登録・編集機能**
   - 従業員詳細ダイアログに口座情報セクション追加

**実装予定ファイル**:
- `src/app/types.ts`（`BankAccount`型追加）
- `src/app/services/bank-accounts.service.ts`（新規作成）
- `src/app/pages/employees/employee-detail-dialog.component.ts`（口座情報セクション追加）

---

### Phase3-18: 入社手続きフロー・入社チェックリスト機能 📋 未実装（優先度：低）

**優先度**: 🟢 低（拡張機能）  
**依存関係**: Phase3-4、Phase3-9  
**目標完了日**: 2025年12月7日

**目的**: 新しく入社する従業員ごとに、「入社手続きチェックリスト」を作成し、必要な項目の進捗を一覧で管理できる

**実装予定内容**:
1. **入社チェックリストの型定義**
   - `OnboardingChecklist`型の定義

2. **チェックリストの作成・管理機能**
   - チェックリストの作成
   - 進捗管理機能

**実装予定ファイル**:
- `src/app/types.ts`（`OnboardingChecklist`型追加）
- `src/app/services/onboarding.service.ts`（新規作成）
- `src/app/pages/onboarding/onboarding.page.ts`（新規作成）

---

### Phase3-19: 年末調整・確定申告用社会保険料集計・エクスポート機能 📋 未実装（優先度：低）

**優先度**: 🟢 低（拡張機能）  
**依存関係**: Phase1-4、Phase1-6  
**目標完了日**: 2025年12月7日（時間に余裕があれば）または12月8日

**目的**: 対象年を指定すると、従業員ごとに1年間の社会保険料（健康保険・介護保険・厚生年金の本人負担分）を集計し、一覧で表示できる

**実装予定内容**:
1. **年間集計機能**
   - 従業員ごとの年間社会保険料集計

2. **年末調整用CSVエクスポート機能**
   - 年間集計結果をCSVとしてエクスポート

**実装予定ファイル**:
- `src/app/utils/year-end-export.service.ts`（新規作成）
- `src/app/pages/premiums/monthly-premiums.page.ts`（年末調整用エクスポートボタン追加）

---

## 📅 Phase3の実装スケジュール（12日間）

### 11月28日（金）- Day 1 ✅ 完了
- ✅ **Phase3-1**: 従業員情報の最終更新者・更新日時表示機能の完成（0.5日）
- ✅ **Phase3-2**: 社会保険用語・ルールヘルプ機能（0.5日）

### 11月29日（土）- Day 2 ✅ 完了
- ✅ **Phase3-3**: 従業員情報の変更申請・承認機能（1.5日継続）

### 11月30日（日）- Day 3 ✅ 完了
- ✅ **Phase3-3**: 従業員情報の変更申請・承認機能（完了）

### 12月1日（月）- Day 4（今日）
- **Phase3-4**: 社会保険手続き履歴・期限管理機能（完了）
- **Phase3-5**: 被扶養者状況確認・年次見直し支援機能（完了）

### 12月2日（火）- Day 5
- **Phase3-6**: 社会保険料納付状況管理機能（完了）
- **Phase3-7**: e-Gov電子申請簡易連携機能（完了、前日にできるだけ準備を進めておく）

### 12月3日（水）- Day 6
- **Phase3-8**: 公的帳票（届出書）自動作成・PDF出力機能（完了、前日にできるだけ準備を進めておく）
- **Phase3-9**: 従業員セルフ入力・手続き申請フロー機能（完了）

### 12月4日（木）- Day 7
- **Phase3-10**: 社会保険手続き用添付書類管理機能（完了）
- **Phase3-11**: 保険料率・等級表クラウドマスタ・自動更新機能（完了）

### 12月5日（金）- Day 8
- **Phase3-12**: マイナンバー管理機能（完了）
- **Phase3-14**: 社会保険情報の異常値チェック・ギャップ検知機能（完了）

### 12月6日（土）- Day 9
- **Phase3-15**: 手続きタスクの期限別ビュー・簡易アラート機能（完了）
- **Phase3-16**: 外部給与システム連携（CSV）機能の完成（完了）

### 12月7日（日）- Day 10
- **Phase3-17**: 口座情報・給与情報管理機能（完了）
- **Phase3-18**: 入社手続きフロー・入社チェックリスト機能（完了）
- （時間に余裕があれば）**Phase3-13**: 多言語対応機能
- （時間に余裕があれば）**Phase3-19**: 年末調整・確定申告用社会保険料集計・エクスポート機能

### 12月8日（月）- Day 11
- （未完了分があれば）**Phase3-13**: 多言語対応機能
- （未完了分があれば）**Phase3-19**: 年末調整・確定申告用社会保険料集計・エクスポート機能
- **最終確認・テスト**: 残り時間で最終確認とテスト

### 12月9日（火）- Day 12
- **最終確認・テスト**: 残り時間で最終確認とテスト
- **バグ修正・調整**

### 12月10日（水）- Day 13（最終日）
- **最終確認・テスト**: 残り時間で最終確認とテスト
- **バグ修正・調整**
- **リリース準備**

---

## ⚠️ リスク管理

### 高リスク要因
1. **スケジュールが非常にタイト**: 残り12日間で17機能を実装する必要がある
2. **並行作業の必要性**: 複数の機能を並行して実装する必要がある
3. **テスト時間の不足**: 各機能のテスト時間が限られる

### 対策
1. **優先度の再評価**: 時間が不足する場合は、低優先度機能を簡略化またはMVP実装
2. **並行作業の推進**: 可能な限り複数の機能を並行して実装
3. **段階的なテスト**: 各フェーズ完了後、可能な限りテストを実施
4. **機能の簡略化**: 完全実装が困難な場合は、MVP（最小限の実装）を検討

---

## 📌 注意事項

- **期日が非常にタイト**: 残り12日間で17機能を実装する必要があるため、効率的な実装が必須
- **優先度の再評価**: 時間が不足する場合は、低優先度機能を簡略化またはPhase4に先送り
- **並行作業**: 可能な限り複数の機能を並行して実装
- **テスト時間の確保**: 各フェーズ完了後、可能な限りテストを実施
- **既存機能への影響**: 既存の実装を壊さないよう、十分なテストを実施

---

以上でPhase3の実装計画（全機能完成版）は完了です。各フェーズの詳細な実装指示書は、実装開始前に作成することを推奨します。
